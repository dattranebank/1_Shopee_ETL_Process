(self.miniJsonp=self.miniJsonp||[]).push([[1493],{66069:function(e,t,r){var a;a=(e,t,r)=>(()=>{"use strict";var a={95:(e,t,r)=>{r.d(t,{D:()=>_,t:()=>c});var a=r(661),n=r.n(a),o=r(480),i=!1,_=(e,t,r="common")=>{i||((e,t)=>{i=!0;var r=t||(0,o.CE)();n().init({lng:r,fallbackLng:r,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})})({resources:{}},e),n().changeLanguage(e),n().addResourceBundle(e,r,t,!0,!0)},c=n().t.bind(n())},480:(e,t,r)=>{r.d(t,{$S:()=>P,CE:()=>x,E3:()=>I,H9:()=>d,IE:()=>b,JS:()=>T,Jy:()=>G,L6:()=>w,NJ:()=>O,S1:()=>c,Tb:()=>h,Vm:()=>C,X7:()=>Y,Y8:()=>m,YH:()=>L,Yc:()=>E,dV:()=>N,ef:()=>S,jz:()=>F,pM:()=>p,qk:()=>M,u7:()=>A,xC:()=>D,z$:()=>f});var a,n,o,i,_={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},c=(e,t,r)=>{a=e.toLowerCase(),n="liveish"===t?"live-test":"stable"===t?"test-stable":t,o=r,i=_[a]||"en"},s=["my","br","mx","co","ar"],l=["id","th"],u=["us"],E=e=>s.includes(e)?"com.".concat(e):l.includes(e)?"co.".concat(e):u.includes(e)?"com":e,d=e=>"tw"===e?"xiapi":e.toLowerCase(),T=e=>E(e),S=()=>"live"===n?"":"".concat(n,"."),p=()=>"live"===n?"shopee":"".concat(n,".shopee"),f=()=>"cn"===a,m=()=>"kr"===a;function g(){return O()&&!f()}function O(){var e=window.location.hostname;return e&&e.includes("cn")}var v=(e,t)=>"seller"===e?"vn"!==t||g()?"seller":"banhang":e,R=(e,t)=>{var r,o=t?t.toLowerCase():a;return g()?((e,t)=>{var r=t?t.toLowerCase():a;return"".concat(v(e,r),".").concat(d(r),".").concat(p(),".").concat("cn")})(e,o):"".concat(v(e,o),".").concat((r=window.location.hostname,r&&r.includes("shopeebrasil")?"live"===n?"shopeebrasil":"".concat(n,".shopeebrasil"):p()),".").concat(T(o))},M=e=>R("seller",e),P=e=>{var t=e?e.toLowerCase():a;return"seller-service.cs.".concat(p(),".").concat(T(t))},C=()=>"".concat(M(),"/webchat/api"),I=()=>"".concat(M(),"/api"),A=e=>{var t=e?e.toLowerCase():a;return"cn"!==t&&"kr"!==t||(t="my"),O()?"".concat(d(t),".").concat(S()).concat("xiapibuy.com"):"".concat(p(),".").concat(T(t))},h=()=>{var e=a;return"cn"!==e&&"kr"!==e||(e="my"),"".concat(p(),".").concat(T(e))},y=["sg","my","th","ph","vn","id","tw","br"],G=e=>{var t=e?e.toLowerCase():a;if(f())return"https://s-cf-sg.shopeesz.com/file/";if(m())return"https://cf.shopee.sg/file/";var r=y.includes(t);return g()&&r?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(E(t),"/file/")},N=e=>{var t=e?e.toLowerCase():a;return"tw"===t&&O()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(E(t),"/file/")},D=()=>"https://".concat(R("seller"),"/webchat/conversations"),L=()=>"https://".concat(R("seller"),"/webchat"),b=()=>n,Y=()=>a,w=()=>o,x=()=>i,F=()=>O()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"},602:t=>{t.exports=e},661:e=>{e.exports=t},349:e=>{e.exports=r}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{o.r(i),o.d(i,{AccountType:()=>Y,AlertType:()=>F,ChatbotFromType:()=>y,ChatbotToggle:()=>G,ConversationSource:()=>N,ConversationTypeEnum:()=>v,CustomShareEvent:()=>q,DataFetchStatus:()=>M,LS:()=>Ye,LogisticsCardLabel:()=>u,LogisticsEntranceTypes:()=>S,LogisticsMessageTypes:()=>xt,MAX_MEDIA_NUM:()=>n,MAX_Z_INDEX:()=>X,MINI_MIN_TEXT_BOX_HEIGHT:()=>d,MessageErrorCode:()=>a,MessageOption:()=>e,MessageSendStatus:()=>r,MessageShortcutGroupType:()=>_,MessageSource:()=>D,MessageTypes:()=>t,OfferStatus:()=>A,OperationStatus:()=>P,OrderDeliveryStatus:()=>E,OrderDeliveryStatusKeyMap:()=>T,RREntranceType:()=>p,ReturnCardStatus:()=>c,ReturnSolution:()=>s,ShareDataType:()=>W,SlaType:()=>l,SocketConnectionStatus:()=>h,SocketToAlertType:()=>U,StartChatErrorCode:()=>x,StorageKey:()=>j,SubAccountRole:()=>b,SwitchStatus:()=>C,TrackerOperation:()=>w,TranslationStatus:()=>I,UnreadSource:()=>L,capitalizeFirstLetter:()=>Pe,changeLanguage:()=>ir.D,checkEmptyObject:()=>z,checkMiniUnrepliedGuide:()=>De,cnDomainHash:()=>Kt.H9,compareSameDayOfTimestamp:()=>se,customizeTime:()=>ie,debounce:()=>Ge,defaultLocalInMall:()=>Q,detectTextAndTimestamp:()=>nr,domainHash:()=>Kt.Yc,domainPrefix:()=>Kt.pM,domainSuffix:()=>Kt.JS,envPrefix:()=>Kt.ef,escapeRegex:()=>$t,fillMessagePreview:()=>qt,formatMessageTime:()=>ce,formatTransifyKeyWithNumber:()=>Oe,getApiServer:()=>Kt.Vm,getCDNUrl:()=>Kt.jz,getChatBotParams:()=>Qt,getCrmPreviewParams:()=>Vt,getCurrentTimestampString:()=>Zt,getCustomMessageText:()=>Dt,getFileServer:()=>Kt.Jy,getFormattedTime:()=>_e,getHasSameSourceAndTarget:()=>Bt,getItem:()=>we,getLocaleText:()=>Ht,getLogisticsCardTitle:()=>Xt,getLogisticsIssueCardTitle:()=>zt,getMallUrl:()=>Kt.u7,getMallUrlIgnoreCn:()=>Kt.Tb,getMessageIsSend:()=>Jt,getRRMessageTitle:()=>Wt,getRuntimeLocale:()=>Kt.CE,getRuntimeRegion:()=>Kt.X7,getRuntimeServer:()=>Kt.IE,getRuntimeVersion:()=>Kt.L6,getSCApiServer:()=>Kt.E3,getSellerCenterUrl:()=>Kt.qk,getSellerServiceUrl:()=>Kt.$S,getServiceLocale:()=>ye,getSystemMessageByLocale:()=>jt,getTranslatedText:()=>or,getTranslationLocale:()=>Ae,getUrlParam:()=>ve,getVideoServer:()=>Kt.dV,getWebChatPureUrl:()=>Kt.YH,getWebChatUrl:()=>Kt.xC,greaterThan:()=>J,handleDisplayTranslation:()=>er,hasTargetMessageOption:()=>Ut,init:()=>Kt.S1,isDeletedMessage:()=>kt,isVisitingCNSC:()=>Kt.z$,isVisitingCn:()=>Kt.NJ,isVisitingKRSC:()=>Kt.Y8,localeInMallToTspLocale:()=>V,newFormatMessageTime:()=>ue,persistLimit:()=>Ue,previewMessage:()=>Ft,removeItem:()=>Fe,setItem:()=>xe,simpleEqualCheck:()=>K,throttle:()=>Ne,unifyLocale:()=>Ie,updateTimeLocale:()=>re});var e,t={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate",MSG_TYPE_LOGISTICS_CARD:"logistics_card",MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:"logistics_issue_enquiry_card",MSG_TYPE_EXPEDITED_LOGISTICS_CARD:"expedited_logistics_card",MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:"late_delivery_compensation_voucher",MSG_TYPE_LOADING:"loading",MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:"customer_service_entrance"},r={SENDING:1,FAILED:2,SUCCEED:3},a={FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,FROM_USER_FROZEN:53,TO_USER_FROZEN:54,DEFAULT:-1},n=9,_={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(e||(e={}));var c,s,l,u,E,d=88;!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(c||(c={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(s||(s={})),function(e){e[e.day=1]="day",e[e.hour=2]="hour"}(l||(l={})),function(e){e[e.Inquiry=1]="Inquiry",e[e.Expedite=2]="Expedite"}(u||(u={})),function(e){e[e.Normal=0]="Normal",e[e.Stuck=1]="Stuck",e[e.AfterEstimated=2]="AfterEstimated",e[e.AfterGuarantee=3]="AfterGuarantee"}(E||(E={}));var T={Normal:"normal",Stuck:"stuck",AfterEstimated:"exceed",AfterGuarantee:"latest"},S=["inquiry_logistics_switch_order","expedite_delivery_switch_order","inquiry_logistics","expedite_delivery"],p="rr_entrance";function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!==f(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v,R={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},M=O(O({},R),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),P=O(O({},R),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),C={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},I={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},A={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},h={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(v||(v={}));var y,G,N={SYNC:4},D={SEND:7},L={PRELOAD:1},b={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},Y={SELLER:"seller",SUBACCOUNT:"subaccount"},w={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search",ACTION_HOVER:"action_hover"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(y||(y={})),function(e){e[e.Disable=0]="Disable",e[e.AutoToggle=1]="AutoToggle",e[e.Opt=2]="Opt"}(G||(G={}));var x,F={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},U={pending:F.warn,error:F.error,resolved:F.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(x||(x={}));var k,H,B,Q={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO"},V={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil"},j={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert",MINI_TEXT_BOX_HEIGHT:"mini-text-box-height"},q={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},W={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},X=199999,z=e=>!e||0===Object.keys(e).length,K=(e,t)=>JSON.stringify(e)===JSON.stringify(t),J=(e,t)=>{if(!e)return!1;if(!t)return!0;var r=(e+="").length,a=(t+="").length;if(r!==a)return r>a;var n=e.split(""),o=null;return n.forEach(((e,r)=>{"boolean"!=typeof o&&(o=parseInt(e)>parseInt(t[r])||parseInt(e)===parseInt(t[r])&&null)})),!!o},$=o(602),Z=o.n($),ee=o(95).t,te=new(Z()),re=e=>te.locale.set(e),ae=e=>e.format("hh:mm");!function(e){e.Today="today",e.Yesterday="yesterday"}(k||(k={})),function(e){e[e.Time=0]="Time"}(H||(H={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(B||(B={}));var ne,oe=e=>{var{value:t,date:r,suffix:a,prefix:n}=e,o="",i="";if(n&&(o=ee("conversation_detail.message_list.".concat(n.type))+(void 0===n.separator?"  ":n.separator)),a){var _=a.type===H.Time?ae(r):"";i=(void 0===a.separator?", ":a.separator)+_}return o+t+i};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(ne||(ne={}));var ie=(e,t)=>{var{noTodayFlag:r,noTimeFlag:a,needFullFormat:n,onlyKeepDate:o,isConvPreview:i}=t||{},_=te.create(e);if(n)return oe({value:_.format("LHD"),date:_,suffix:{type:H.Time}});if(o)return _.format("LHD");var c=["tw","cn"].includes(te.locale.current),s=((e,t)=>{var r=new Date,a=new Date(e);if(t){var n=r-a,o=(new Date).setHours(0,0,0,0);if(n<=6048e5&&n>=r.getTime()-o+864e5)return ne.ThisWeek}if(r.getFullYear()===a.getFullYear()){if(r.getMonth()===a.getMonth()){var i=r.getDate(),_=a.getDate();return i===_?ne.Today:i-1===_?ne.Yesterday:ne.ThisMonth}return ne.ThisYear}return ne.NONE})(e,i);switch(s){case ne.Today:var l=r?void 0:{type:k.Today},u={type:H.Time,separator:""};return oe({value:"",date:_,prefix:l,suffix:u});case ne.Yesterday:var E={type:k.Yesterday},d=a?void 0:{type:H.Time,separator:""};return oe({value:"",date:_,prefix:E,suffix:d});case ne.ThisWeek:return ee("common.".concat(B[new Date(e).getDay()]));case ne.ThisMonth:case ne.ThisYear:var T=a?void 0:{type:H.Time};return oe({value:_.format(i?c?"MM/DD":"DD/MM":"LHDS"),date:_,suffix:T});default:var S=a?void 0:{type:H.Time};return oe({value:_.format(i?c?"YY/MM/DD":"DD/MM/YY":"LHD"),date:_,suffix:S})}},_e=(e,t="")=>te.create(e).format(t||"YYYY-MM-DD hh:mm"),ce=e=>{var{created_at:t,created_timestamp:r}=e;return ie(t||1e3*r,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},se=(e,t)=>te.create(e).format("LHD")===te.create(t).format("LHD"),le={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},ue=(e,t)=>{var r=1e3*e;switch(t){case"time":var a=te.create(r);return ae(a);case"date":var n=new Date,o=new Date(r);if(n.getFullYear()===o.getFullYear()){if(n.getMonth()===o.getMonth()){var i=n.getDate(),_=o.getDate();if(i===_)return ee("conversation_detail.message_list.today");if(i-1===_)return ee("conversation_detail.message_list.yesterday");if(i-_<7){var c=o.getDay();return ee("common.".concat(le[c]))}return te.create(r).format("LHDS")}return te.create(r).format("LHDS")}return te.create(r).format("LHD")}},Ee=o(661),de=o.n(Ee),Te=e=>0===e||1===e?"one":e>=1e6?"many":"other",Se=e=>1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other",pe=e=>e<=1?"one":"other",fe={fr:Te,pl:Se,default:pe},me={fr:(e,t)=>"".concat(Te(e),".").concat(Te(t)),pl:(e,t)=>"".concat(Se(e),".").concat(Se(t)),default:(e,t)=>"".concat(pe(e),"_").concat(pe(t))},ge=["fr","pl"],Oe=(e,t,r)=>{var a=de().language||"en",n=ge.includes(a)?a:"default";return void 0!==r?"".concat(e,"_").concat(me[n](t,r)):"".concat(e,"_").concat(fe[n](t))},ve=(e,t)=>{var r=t||window.location.search,a=null;if(r){var n=r.indexOf("?")+1,o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");a=r.substr(n).match(o)}return a?unescape(a[2]):null},Re=["hans","hant"],Me=["en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil"],Pe=e=>"".concat(e[0].toUpperCase()).concat(e.substring(1)),Ce=e=>{if(e.includes("-")){var t=e.split("-");return Re.includes(t[1])?"".concat(t[0],"-").concat(Pe(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},Ie=e=>{var t=(e||"en").toLowerCase(),r="en";for(var a of Me)if(a.includes(t)){r=Ce(a);break}return r},Ae=e=>{var t=Ie(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},he={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil"},ye=e=>{var t=Ie(e);return he[t]||"default"},Ge=(e,t=200,r=1e3)=>{var a,n=Date.now();return(...o)=>{a&&(clearTimeout(a),a=null),Date.now()-n>r?(e(...o),n=Date.now()):a=window.setTimeout((()=>{e(...o),n=Date.now()}),t)}},Ne=function(e,t,r={}){var a,n,o,i=null,_=0,c=function(){_=!1===r.leading?0:(new Date).getTime(),i=null,o=e.apply(a,n),i||(a=n=null)};return function(...s){var l=(new Date).getTime();_||!1!==r.leading||(_=l);var u=t-(l-_);return a=this,n=s,u<=0||u>t?(i&&(clearTimeout(i),i=null),_=l,o=e.apply(a,n),i||(a=n=null)):i||!1===r.trailing||(i=window.setTimeout(c,u)),o}},De=e=>((e,t)=>{var{superType:r,secondaryType:a}=t,n=e.find((e=>e.name===r));if(n){var o=n.children;return o.length&&o.find((e=>e.name===a))||!1}return!1})(e,{superType:"MiniChat-Unreplied-Filter",secondaryType:"modal"}),Le=o(349),be=o.n(Le),Ye={getItem:(e,t)=>{try{var r=window.localStorage.getItem(e);return null==r?r:t?JSON.parse(r):r}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:(e,t,r)=>{try{var a=r?JSON.stringify(t):t;window.localStorage.setItem(e,a)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},we=(e,t=!1)=>t?Ye.getItem(e):be().getItem(e),xe=(e,t)=>be().setItem(e,t),Fe=(e,t)=>t?Ye.removeItem(e):be().removeItem(e),Ue=be().supports(be().INDEXEDDB)||be().supports(be().WEBSQL)?1e3:100,ke=o(95).t;function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{MSG_TYPE_TEXT:Qe,MSG_TYPE_IMAGE:Ve,MSG_TYPE_OFFER:je,MSG_TYPE_PRODUCT:qe,MSG_TYPE_ORDER:We,MSG_TYPE_STICKER:Xe,MSG_TYPE_NOTIFICATION:ze,MSG_TYPE_VOUCHER:Ke,MSG_TYPE_ITEM_LIST:Je,MSG_TYPE_FAQ:$e,MSG_TYPE_FAQ_QUESTION:Ze,MSG_TYPE_FAQ_LIVEAGENT:et,MSG_TYPE_FAQ_FEEDBACK:tt,MSG_TYPE_FAQ_UNSUPPORTED:rt,MSG_TYPE_FAQ_FEEDBACK_PROMPT:at,MSG_TYPE_FAQ_LIVEAGENT_PROMPT:nt,MSG_TYPE_BUNDLE_MESSAGE:ot,MSG_TYPE_OPTION_PACK:it,MSG_TYPE_SELECTED_OPTION:_t,MSG_TYPE_VIDEO:ct,MSG_TYPE_IMAGE_WITH_TEXT:st,MSG_TYPE_RATE_CARD:lt,MSG_TYPE_NEW_FAQ:ut,MSG_TYPE_FAQ_CATEGORY_CHOICE:Et,MSG_TYPE_FAQ_QUESTION_LIST:dt,MSG_TYPE_FAQ_TYPE_CHOICE:Tt,MSG_TYPE_FAQ_CATEGORY_LIST:St,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:pt,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:ft,FAQ_TYPE_BOT_RESPONSE_MESSAGE:mt,MSG_TYPE_SHOPPING_CART:gt,MSG_TYPE_CRM_ITEM_LIST:Ot,MSG_TYPE_RR:vt,MSG_TYPE_CRM_ORDER_RATE:Rt,MSG_TYPE_LOGISTICS_CARD:Mt,MSG_TYPE_LOGISTICS_ISSUE_ENQUIRY_CARD:Pt,MSG_TYPE_EXPEDITED_LOGISTICS_CARD:Ct,MSG_TYPE_LATE_DELIVERY_COMPENSATION_VOUCHER:It,MSG_TYPE_CUSTOMER_SERVICE_ENTRANCE:At}=t,{PENDING:ht,REJECTED:yt}=A,Gt="common.unsupported_message",Nt={[et]:"faq.live_agent",[rt]:"faq.new_unsupport_input",[at]:"faq.feedback_prompt",[nt]:"faq.new_live_agent_prompt",[ct]:"conversation_detail.input_field.toolbar.video.tip",[st]:"conversation_list.conversation_cell.new_image_message"},Dt=e=>ke(Nt[e]||Gt),Lt=[Je],bt=[ct,rt,at,nt,st],Yt=[Ve,ot,ft,je,qe,We,Ke,lt,Xe],wt=[dt,Tt,St],xt=[Mt,Pt,Ct,It],Ft=({message:t,enableTranslation:r,locale:a,conversationShopId:n,currentSellerAccountId:o})=>{if(!t)return{text:ke(Gt)};var{type:i,content:_={},crm_message_preview:c={},message_option:s,source:l,send_status:u,custom_preview_text:E}=t,d=Ae(a);if(c.text)return{text:or(c,d)};if(null!=_&&_.preview_text&&i===mt)return{text:_.preview_text};if(Ut(s,e.MSG_OPT_CENSORED_BLACKLIST))return{text:ke("common.blacklist.replaced_text")};if(i){var T,f,{text:m="",title:g,opening:O,caption:v,translation:R,product_name:M,sticker_name:P,chat_product_infos:C=[],products:I=[],rr_detail:A,user_id:h,enquiry_info:y={},common_info:G={}}=_||{},N=Jt(t,{isAgent:!1,shop_id:n}),D=((e,t,r,a)=>{var n,{live_agent_text:o=[],fixed_title:i,faq_type_choice_translation:_}=t||{};if(bt.includes(e))n=o.length?Ht(o,r):Dt(e);else if(wt.includes(e))n=Ht(e===Tt?_:i,r);else if(xt.includes(e))n=ke("message.logistics_card.preview.prefix");else{var c=Yt.includes(e)?"conversation_list.conversation_cell.new_".concat(e,"_message"):Lt.includes(e)?"common.tips.recommended".concat(a?"":"_for_you"):"";n=c?"[".concat(ke(c),"]"):ke(Gt)}return n})(i,_,a,N);switch(i){case ut:case $e:f=O||ke("faq.no_set.chat_bot_title");break;case Qe:if(N)f=m;else{var L=Bt(_);f=!r||L||s===e.MSG_OPT_SOCIAL_MESSAGE||["crm","proactive_update"].includes(l)||2===u?m:(null==R?void 0:R.text)||m}break;case et:case Ze:case tt:case _t:case it:case Et:case pt:f=m||g;break;case ct:f="[".concat(D,"]");break;case st:f="[".concat(D,"] ").concat(v||g||m);break;case rt:case at:case nt:case dt:case Tt:case St:f=D;break;case qe:f="".concat(D," ").concat(M);break;case Xe:f=P?"[".concat(P,"]"):D;break;case Je:var b=C.map((e=>e.name)).join("; ");f="".concat(D," ").concat(b);break;case ze:var{notification_for_sender:Y,notification_for_receiver:w,notifications_for_sender_hyperlink:x,notifications_for_receiver_hyperlink:F}=jt(_||{},a);if([...S,p].includes(_.notification_type)){if((f=N?x:F).includes("<a>")){var U=f.split("<a>").join("");f=U.split("</a>").join("")}}else f=N?Y:w;break;case lt:f="".concat(D," ").concat(ke(N?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service"));break;case je:var{status:k,products_count:H,offer_price:B}=_||{};if(k)if(k===ht){var Q=ke("conversation_list.preview.offer_pending_".concat(N?"sender":"receiver"));f="".concat(D," ").concat(Q,": ").concat(B," x ").concat(H),N||(T=!0)}else{var V=k===yt?"declined":k;f="".concat(D," ").concat(ke("conversation_detail.workstation.offer_panel.".concat(V)))}else f=D;break;case We:f="".concat(D," ").concat(I.map((e=>e.title)).join("; "));break;case Ke:var{type:j,rule_text:q,discount_text:W}=_||{};if(j){var X="[".concat(ke("conversation_detail.workstation.voucher_panel.".concat(j,"_voucher")),"]");f="".concat(X," ").concat(W,", ").concat(q)}else f=D;break;case gt:f=ke("message.cart_reminder");break;case Ot:var z,K,J,$=null!==(z=null==_?void 0:_.title)&&void 0!==z?z:{};f=(null===(K=$.translated_with_lang)||void 0===K||null===(J=K.find((e=>e.language===Ae(a))))||void 0===J?void 0:J.text)||$.text||ke(Gt);break;case vt:var{solution:Z,status:ee}=A,te=Wt({isBuyer:o===h,solution:Z,status:ee});f="[".concat(ke("label.return_and_refund"),"]").concat(te);break;case Rt:var re,ae;f=(null==E||null===(re=E.translated_text)||void 0===re||null===(ae=re.find((e=>e.translated_language===Ae(a))))||void 0===ae?void 0:ae.translated_text)||(null==E?void 0:E.text)||ke(Gt),f=or(E,d)||ke(Gt);break;case Mt:case Ct:var ne=Xt(i,_,G.user_id===o,!0);f="[".concat(D,"] ").concat(ne);break;case Pt:var oe=zt(y);f="[".concat(D,"] ").concat(oe);break;case It:f="[".concat(D,"] ").concat(ke("message.late_delivery_compensation_voucher.title"));break;case At:f=ke("text.customer_service_entrance");break;default:f=D}return{text:f,isPendingReceivedOffer:T}}return{text:ke(Gt)}},Ut=(e,t)=>(e&t)===t,kt=(t={})=>Ut(t.message_option,e.MSG_OPT_DELETE),Ht=(e=[],t)=>(e.find((e=>Ae(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())))||e.find((e=>"en"===e.lang))||{}).text,Bt=e=>{var{translation:t,mid:r={}}=e||{};if(!t)return!0;var{source_language:a=""}=r,{final:n,mid:o,target_language:i="",source_language:_=""}=t||{},c=n?n.target_language:i,s=n?n.source_language:_,l=o?o.source_language:a;return l?l===c:s===c&&"unknown"!==s},Qt=(e,t={})=>{var{updateMaxGeneralOptionHideTime:r=!0,updateMessageOption:a=!0}=t,{created_timestamp:n,message_option:o}=e||{},i=a?{last_message_option:o}:{};return Be(Be({},r?{max_general_option_hide_time:n}:{}),i)},Vt=e=>{var{crm_message_preview:t={}}=e;return t.text?{crm_message_preview:t}:{crm_message_preview:{}}},jt=(e,t)=>{var{noti_text_of_all_languages:r=[]}=e;if(!r.length)return e;var a=r.find((e=>Ae(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())));if(a)return a;var n=r.find((e=>"en"===e.language));return n||e},qt=e=>{var{type:t,textContent:r,content:a}=e,n={};switch(t){case We:var{products:o}=r||{};n={products:o};break;case Ke:var{rule_text:i,discount_text:_,type:c}=r||{};n={rule_text:i,discount_text:_,type:c};break;case je:var{status:s,products_count:l,offer_price:u}=r||{};n={status:s,products_count:l,offer_price:u};break;case qe:n={product_name:a.product_name||(null==r?void 0:r.name)}}return Be(Be({},e),{},{content:Be(Be({},a),n)})},Wt=({isBuyer:e,status:t,solution:r})=>{var a=r===s.Return?"return":"return_refund",n=t===c.Submit?"proposed":t===c.Refund?"succeed":"rejected";return ke("rr_message_title.".concat(e?"buyer":"seller",".").concat(a,".").concat(n))},Xt=(e,r,a,n)=>{var{common_info:{card_label:o,order_delivery_status:i}={},logistic_tracking_info:{estimate_delivery_time:_,stuck_time:c}={},expedite_delivery_button:s}=r,l=e===t.MSG_TYPE_EXPEDITED_LOGISTICS_CARD,d=o===u.Inquiry,S=T[E[i]],p="".concat(_e(1e3*_,"www"),", ").concat(_e(1e3*_,"LHDS")),f=n?p:"<a>".concat(p,"</a>"),m=Math.floor(c/86400),g="stuck"===S&&0===m,O="";if(l&&a&&!d)O=ke("message.expedited_logistics_card.title.buyer.expedite");else if(a){var v=s||l||i!==E.AfterGuarantee&&i!==E.AfterEstimated&&(i!==E.Stuck||d)?"":".unable_expedite";O=ke("message.".concat(e,".title.buyer.").concat(d?"inquiry":"expedite",".").concat(S).concat(v),{date:f,num:m}),g&&!l&&(O=d?ke("message.logistics_card.title.buyer.inquiry.normal",{date:f}):ke("message.logistics_card.title.buyer.expedite.nostuck".concat(v)))}else O=ke("message.logistics_card.title.seller.".concat(S),{date:f,num:m}),g&&(O="".concat(ke("message.logistics_card.title.seller.normal",{date:f})).concat(ke("message.logistics_card.title.buyer.expedite.nostuck.unable_expedite")));return O},zt=e=>{var{display_sla_type:t,display_sla_value:r,enquiry_id:a}=e||{};if(t===l.day&&r&&a&&"0"!==a){var n="".concat(l[t],"s");return ke("message.issue_enquiry_card.title.".concat(n),{value:r})}return ke("message.issue_enquiry_card.title.unavailable")},Kt=o(480),Jt=(e={},t={})=>{var{isAgent:r,to_tob_user_id:a,shop_id:n}=t,{from_id:o,to_shop_id:i}=e;return r?o!==a:i!==n},$t=e=>e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&"),Zt=()=>Math.ceil(Date.now()/1e3).toString(),er=(e,t,r,a)=>t?e:e||a&&!!r,tr=e=>{var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},rr=(e,t,r)=>{var a=document.createElement("pre"),n=(e=>"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px"))(e);if(a.id="chat-text-pre",a.setAttribute("style",n),a.innerText=t,r){var o=tr(r);a.appendChild(o)}return a},ar=(e,t="height")=>{document.body.appendChild(e);var r=e.getBoundingClientRect(),a="height"===t?r.height:r.width;return document.body.removeChild(e),a},nr=(e,t,r)=>{var a=rr(r,e),n=tr(t),o=rr(r,e,t),i=ar(a);return{conflict:i!==ar(o),multiLine:i>38,timeWidth:ar(n,"width"),widthConflict:ar(o,"width")>ar(a,"width")}},or=(e,t)=>{var r,a,n,o;return(null==e||null===(r=e.translated_with_lang)||void 0===r||null===(a=r.find((e=>e.language===t)))||void 0===a?void 0:a.text)||(null==e||null===(n=e.translated_text)||void 0===n||null===(o=n.find((e=>e.translated_language===t)))||void 0===o?void 0:o.translated_text)||(null==e?void 0:e.text)||""},ir=o(95)})(),i})(),e.exports=a(r(14906),r(58518),r(69483))},29494:function(e,t,r){"use strict";e.exports=r(66069)}}]);